{"ast":null,"code":"var _jsxFileName = \"/Users/alokwaigaonkar/health_care/FrontEnd/src/components/Doctor/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../../api\";\nimport \"../../css/login.css\";\nimport Navbar from \"../MainPage/Navbar\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const [email, setemail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"error-box\");\n  const [loading, setLoading] = useState(false); // 🔄 Loading state\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    if (name === \"email\") setemail(value);\n    if (name === \"password\") setPassword(value);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (email === \"\" || password === \"\") {\n      setMessage(\"⚠️ Please fill all the fields\");\n      setErrorClass(\"error-box shake\");\n      setTimeout(() => setErrorClass(\"error-box\"), 500);\n      return;\n    }\n    setLoading(true);\n    setMessage(\"\");\n    try {\n      const response = await api.post(\"http://localhost:8080/auth/login\", {\n        email: email,\n        password: password\n      }, {\n        withCredentials: true\n      });\n      console.log(role);\n      setMessage(\"✅ Login successful! Redirecting...\");\n      setErrorClass(\"success-box\");\n      setTimeout(() => {\n        if (role === \"DOCTOR\") {\n          navigate(\"/doctorDashboard\");\n        } else if (role === \"PATIENT\") {\n          navigate(\"/patientDashboard\");\n        } else {\n          setMessage(\"⚠️ Unauthorized Role\");\n        }\n      }, 1000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"❌ Login failed due to an internal error.\";\n      setMessage(errMsg);\n      setErrorClass(\"error-box shake\");\n      setTimeout(() => setErrorClass(\"error-box\"), 500);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card login-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"login-title\",\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: errorClass,\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"login-form\",\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"email\",\n                placeholder: \"Enter Email\",\n                className: \"input-sec\",\n                style: {\n                  borderRadius: \"5px\"\n                },\n                onChange: handleInputChange,\n                value: email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                placeholder: \"Enter Password\",\n                className: \"input-sec\",\n                style: {\n                  borderRadius: \"5px\"\n                },\n                onChange: handleInputChange,\n                value: password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn submit-button btn-outline-success m-4\",\n                disabled: loading,\n                children: loading ? \"Logging in...\" : \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center mt-3\",\n                children: [\"Don\\u2019t have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/signup\",\n                  style: {\n                    textDecoration: \"underline\"\n                  },\n                  children: \"Sign up here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Login, \"Bxs9Mco2f2IuzvYn/d9ODgH2Mbo=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","api","Navbar","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","navigate","email","setemail","password","setPassword","message","setMessage","errorClass","setErrorClass","loading","setLoading","handleInputChange","event","name","value","target","handleSubmit","preventDefault","setTimeout","response","post","withCredentials","console","log","role","error","_error$response","_error$response$data","errMsg","data","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","placeholder","style","borderRadius","onChange","disabled","href","textDecoration","_c","$RefreshReg$"],"sources":["/Users/alokwaigaonkar/health_care/FrontEnd/src/components/Doctor/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../../api\";\nimport \"../../css/login.css\";\nimport Navbar from \"../MainPage/Navbar\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n\n  const [email, setemail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"error-box\");\n  const [loading, setLoading] = useState(false); // 🔄 Loading state\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    if (name === \"email\") setemail(value);\n    if (name === \"password\") setPassword(value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (email === \"\" || password === \"\") {\n      setMessage(\"⚠️ Please fill all the fields\");\n      setErrorClass(\"error-box shake\");\n      setTimeout(() => setErrorClass(\"error-box\"), 500);\n      return;\n    }\n\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      const response = await api.post(\n        \"http://localhost:8080/auth/login\",\n        {\n          email: email,\n          password: password,\n        },\n        {\n          withCredentials: true,\n        }\n      );\n      \n      console.log(role);\n      setMessage(\"✅ Login successful! Redirecting...\");\n      setErrorClass(\"success-box\");\n    \n      setTimeout(() => {\n        if (role === \"DOCTOR\") {\n          navigate(\"/doctorDashboard\");\n        } else if (role === \"PATIENT\") {\n          navigate(\"/patientDashboard\");\n        } else {\n          setMessage(\"⚠️ Unauthorized Role\");\n        }\n      }, 1000);\n    } catch (error) {\n      const errMsg =\n        error.response?.data?.message ||\n        \"❌ Login failed due to an internal error.\";\n      setMessage(errMsg);\n      setErrorClass(\"error-box shake\");\n    \n      setTimeout(() => setErrorClass(\"error-box\"), 500);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"login\">\n        <div className=\"login-body\">\n          <div className=\"card login-card\">\n            <div className=\"card-body\">\n              <h1 className=\"login-title\">Log In</h1>\n              {message && <div className={errorClass}>{message}</div>}\n\n              <form className=\"login-form\" onSubmit={handleSubmit}>\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  placeholder=\"Enter Email\"\n                  className=\"input-sec\"\n                  style={{ borderRadius: \"5px\" }}\n                  onChange={handleInputChange}\n                  value={email}\n                />\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Enter Password\"\n                  className=\"input-sec\"\n                  style={{ borderRadius: \"5px\" }}\n                  onChange={handleInputChange}\n                  value={password}\n                />\n\n                <button\n                  type=\"submit\"\n                  className=\"btn submit-button btn-outline-success m-4\"\n                  disabled={loading}\n                >\n                  {loading ? \"Logging in...\" : \"Submit\"}\n                </button>\n\n                <p className=\"text-center mt-3\">\n                  Don’t have an account?{\" \"}\n                  <a href=\"/signup\" style={{ textDecoration: \"underline\" }}>\n                    Sign up here\n                  </a>\n                </p>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}